# –í—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø–æ—Ç–µ—Ä–∏ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–µ–π—Ç–∞? –≠—Ç–∞ –≥–ª–∞–≤–∞ –ø—Ä–∏–∑–≤–∞–Ω–∞ —Ä–∞–∑–æ–±—Ä–∞—Ç—å –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø–æ—Ç–µ—Ä–∏
—Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, –ø–æ—ç—Ç–æ–º—É —Ç—É—Ç –≤—ã —Ç–æ—á–Ω–æ –¥–æ–ª–∂–Ω—ã –Ω–∞–π—Ç–∏ –≤–∞—à —Å–ª—É—á–∞–π. –ß–∞—Å—Ç—å –ø—Ä–æ–±–ª–µ–º –±–æ–ª—å—à–µ —Å–≤—è–∑–∞–Ω–∞ —Å –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è–º–∏ JS, –Ω–µ–∂–µ–ª–∏ —Å
Mobx.

### 1. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ observer

–î–ª—è —Ä–∞–±–æ—Ç—ã —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –æ—Ç–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –æ—Ç –Ω–∏—Ö. Mobx –Ω–µ
—Ç—Ä–µ–±—É–µ—Ç [—Ä—É—á–Ω—ã—Ö –ø–æ–¥–ø–∏—Å–æ–∫](https://rxjs.dev/guide/subscription#subscription) –∫–∞–∫ RxJS, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ö—É–∫–æ–≤
–≤—Ä–æ–¥–µ [useSelector](https://react-redux.js.org/api/hooks#useselector-examples) –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —á–∞—Å—Ç–µ–π —Å—Ç–µ–π—Ç–∞. –°
Mobx –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ observer. –í–∑–∞–º–µ–Ω –≤–∞–º –Ω–µ –Ω—É–∂–Ω–æ –¥—É–º–∞—Ç—å –ø—Ä–æ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å, –º–µ–º–æ–∏–∑–∞—Ü–∏—é, —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –∏
–ø–æ–¥–ø–∏—Å–∫–∏. –ï—â—ë –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ observer –Ω–µ –±–æ–ª–µ–µ –∑–∞—Ç—Ä–∞—Ç–Ω–æ —á–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `React.memo`, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –±—É–¥–µ—Ç–µ –≤—ã–Ω—É–∂–¥–µ–Ω—ã
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ç–∞–∫–æ–≥–æ –∂–µ —É—Ä–æ–≤–Ω—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –†–∞–∑–±–µ—Ä—ë–º –ø—Ä–∏–º–µ—Ä—ã:

‚ùå –ù–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–¥–ø–∏—Å–∫–∞:

```typescript jsx
class Store {
  count = 0

  constructor() {
    makeAutoObservable(this)
  }

  increment() {
    this.count++
  }
}

const store = new Store()

const Counter = () => {
  return <button onClick={() => store.increment()}>Clicked times: {store.count}</button>
}
```

#### ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç, —Ç–∞–∫ –∫–∞–∫ –µ—Å—Ç—å observer:

```typescript jsx
class Store {
  count = 0

  constructor() {
    makeAutoObservable(this)
  }

  increment() {
    this.count++
  }
}

const store = new Store()

// –î–æ–±–∞–≤–ª–µ–Ω observer üëá
const Counter = observer(() => {
  return <button onClick={() => store.increment()}>Clicked times: {store.count}</button>
})
```

–ï—Å–ª–∏ –≤–∞–º –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ –∫–∞–∫ –≤–Ω—É—Ç—Ä–∏ —É—Å—Ç—Ä–æ–µ–Ω –º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–¥–ø–∏—Å–æ–∫ Mobx, —Ç–æ —ç—Ç–æ –≤ —É–ø—Ä–æ—â—ë–Ω–Ω–æ–º –≤–∏–¥–µ –æ–ø–∏—Å–∞–Ω–æ –≤
–≥–ª–∞–≤–µ [Mobx –≤ 50 —Å—Ç—Ä–æ—á–µ–∫ –∫–æ–¥–∞](mobx-inside). –£ Mobx
–µ—Å—Ç—å [ESLint-–ø—Ä–∞–≤–∏–ª–æ](https://github.com/mobxjs/mobx/tree/main/packages/eslint-plugin-mobx#mobxexhaustive-make-observable)
, –ø—Ä–æ–≤–µ—Ä—è—é—â–µ–µ, —á—Ç–æ –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–±—ë—Ä–Ω—É—Ç—ã –≤ observer.

### 2. –ü–æ—Ç–µ—Ä—è–Ω this

‚ùå –£ –∫–ª–∞—Å—Å–∞ –µ—Å—Ç—å observer, –∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è –∏–∑-–∑–∞ –ø–æ—Ç–µ—Ä–∏ this:

```typescript jsx
class Store {
  count = 0

  constructor() {
    makeAutoObservable(this)
  }

  increment() {
    this.count++
  }
}

const store = new Store()

const Counter = observer(() => {
  // –ò–∑–º–µ–Ω–∏–ª–∞—Å—å –∑–∞–ø–∏—Å—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ üëá
  return <button onClick={store.increment}>Clicked times: {store.count}</button>
})
```

This –ø–æ—Ç–µ—Ä—è–ª—Å—è –∏–∑-–∑–∞ –ø–µ—Ä–µ–¥–∞—á–∏ –º–µ—Ç–æ–¥–∞ —Å—Ç–æ—Ä–∞ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –Ω–∞–ø—Ä—è–º—É—é. –ù–µ—Ä–µ–¥–∫–æ —É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –≤–æ–∑–Ω–∏–∫–∞—é—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ —Å this, –æ–¥–Ω–∞–∫–æ –µ—Å–ª–∏ –∑–Ω–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–µ –ø—Ä–∞–≤–∏–ª–æ, —Ç–æ –ø—Ä–æ–±–ª–µ–º —Å this –Ω–µ –≤–æ–∑–Ω–∏–∫–Ω–µ—Ç.
–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–Ω–∞—Ç—å, —á—Ç–æ **this —É –º–µ—Ç–æ–¥–æ–≤ —Ç–µ—Ä—è–µ—Ç—Å—è, –µ—Å–ª–∏ –≤—ã–∑—ã–≤–∞—Ç—å
–º–µ—Ç–æ–¥ –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –æ–±—ä–µ–∫—Ç–∞**. –†–∞–∑–±–µ—Ä—ë–º —ç—Ç–æ –ø—Ä–∞–≤–∏–ª–æ: **–≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞** –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø–∞—Ä–Ω—ã–µ —Å–∫–æ–±–∫–∏, –∞ **–æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –æ–±—ä–µ–∫—Ç–∞** –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –º—ã —É–∂–µ –Ω–µ –ø–∏—à–µ–º –æ–±—ä–µ–∫—Ç.
–¢–∞–±–ª–∏—Ü–∞ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏:

| –ö–æ–¥                                                                                   | –û–±—ä—è—Å–Ω–µ–Ω–∏–µ                                                                                  | –†–µ–∑—É–ª—å—Ç–∞—Ç       |
|---------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------|-----------------|
| ``` <button onClick={() => store.increment()}> ```                                    | –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é —Å–∫–æ–±–æ–∫ –Ω–µ –æ—Ç–¥–µ–ª—ë–Ω –æ—Ç –æ–±—ä–µ–∫—Ç–∞                                        | –ù–µ—Ç –ø–æ—Ç–µ—Ä–∏ this |
| ```const increment = store.increment``` <br/><br/> ```<button onClick={increment}>``` | –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç–¥–µ–ª—ë–Ω –æ—Ç –æ–±—ä–µ–∫—Ç–∞                                                            | –ü–æ—Ç–µ—Ä—è–Ω this    |
| ```<button onClick={store.increment}>```                                              | –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç–¥–µ–ª—ë–Ω –æ—Ç –æ–±—ä–µ–∫—Ç–∞. –≠—Ç–æ —Ç–æ –∂–µ —Å–∞–º–æ–µ, —á—Ç–æ –∏ –ø—Ä–∏–º–µ—Ä –≤—ã—à–µ, –Ω–æ –≤ —É–∫–æ—Ä–æ—á–µ–Ω–Ω–æ–π —Ñ–æ—Ä–º–µ | –ü–æ—Ç–µ—Ä—è–Ω this    |
| ```const { increment } = store``` <br/><br/> ```<button onClick={increment}>```       | –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç–¥–µ–ª—ë–Ω –æ—Ç –æ–±—ä–µ–∫—Ç–∞                                                            | –ü–æ—Ç–µ—Ä—è–Ω this    |

–û–¥–Ω–∞–∫–æ –µ—Å—Ç—å —Å–ø–æ—Å–æ–±—ã –∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ —ç—Ç–∏ –ø—Ä–∏–º–µ—Ä—ã.

#### ‚úÖ –û–ø—Ü–∏—è autoBind –≤ makeAutoObservable:

```typescript jsx
class Store {
  count = 0

  constructor() {
    // –î–æ–±–∞–≤–∏–ª–∏ 1 —Ä–∞–∑ –æ–ø—Ü–∏—é –Ω–∞ –≤–µ—Å—å –∫–ª–∞—Å—Å üëá
    makeAutoObservable(this, {}, { autoBind: true })
  }

  increment() {
    this.count++
  }
}

const store = new Store()

const Counter = observer(() => {
  // –ú–æ–∂–µ–º –≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥ –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –æ–±—ä–µ–∫—Ç–∞ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—é
  return <button onClick={store.increment}>Clicked times: {store.count}</button>
})
```

–≠—Ç–∞ –æ–ø—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç this –¥–ª—è –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤ –∫–ª–∞—Å—Å–∞.

#### ‚úÖ –ú–µ—Ç–æ–¥—ã-—Å—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

```typescript jsx
class Store {
  count = 0

  constructor() {
    makeAutoObservable(this)
  }

  // –î–ª—è –∫–∞–∂–¥–æ–≥–æ –º–µ—Ç–æ–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
  increment = () => {
    this.count++
  }
}

const store = new Store()

const Counter = observer(() => {
  return <button onClick={store.increment}>Clicked times: {store.count}</button>
})
```

–ü–ª—é—Å–æ–º —ç—Ç–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ —è–≤–ª—è–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç Mobx, –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–º - –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤–æ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–∞—Ö. –ï—Å–ª–∏ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –±–æ–ª–µ–µ –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ç–æ–≥–æ –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç this, —Ç–æ —Å –Ω–∏–º –º–æ–∂–Ω–æ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è –Ω–∞
—Å–∞–π—Ç–µ [learn.javascript.ru](https://learn.javascript.ru/object-methods).

### 3. –í–ª–æ–∂–µ–Ω–Ω—ã–µ observable –∏ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –Ω–µ observer –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

–ü—Ä–æ–±–ª–µ–º–∞ —á–∞—Å—Ç–æ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö UI-–∫–∏—Ç–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ
–∫–æ–º–ø–æ–Ω–µ–Ω—Ç [Table](https://ant.design/components/table/) –∏–∑ UI-–∫–∏—Ç–∞ Ant Design. –≠—Ç–æ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ prop –ø—Ä–∏–Ω–∏–º–∞–µ—Ç
–º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤. –¢–∞–∫ –∫–∞–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Table –Ω–µ —è–≤–ª—è–µ—Ç—Å—è observer, —Ç–æ –æ–Ω –Ω–µ —É–º–µ–µ—Ç –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –≤–Ω—É—Ç—Ä–∏
–º–∞—Å—Å–∏–≤–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä `store.users.isActive = true`. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç Table –Ω–µ —Ç–∞–∫–æ–π —É–º–Ω—ã–π –∫–∞–∫ observer-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –ø–æ—ç—Ç–æ–º—É –µ–º—É –¥–ª—è
–ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã —Å—Å—ã–ª–∫–∞ –Ω–∞ –º–∞—Å—Å–∏–≤ —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å. –ü–æ—Ö–æ–∂–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –º–æ–∂–µ—Ç –≤—Å—Ç—Ä–µ—á–∞—Ç—å—Å—è —É
–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ [FlatList](https://reactnative.dev/docs/flatlist) –∏–∑ React Native.

‚ùå –°—Ç–æ—Ä–æ–Ω–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è, —Ç–∞–∫ –∫–∞–∫ –æ–Ω –Ω–µ observer, –∞ –ø–æ—Ç–æ–º—É –Ω–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –ø–æ–ª–µ–π:

```typescript jsx
type User = {
  id: number;
  isActive: boolean;
}

class Store {
  users: User[] = [
    { id: 1, isActive: false },
    { id: 2, isActive: false },
  ]

  constructor() {
    makeAutoObservable(this, {}, { autoBind: true })
  }

  markActive(user: User) {
    user.isActive = true
  }
}

const store = new Store()

const Component = observer(() => {
  return <VendorTable
    data={store.users}
    columns={[
      {
        label: 'Mark active',
        render: (user) => {
          return <Switcher onClick={() => store.markActive(user.id)} />
        }
      }
    ]}
  />
})
```

–í—ã—Ö–æ–¥–æ–≤ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ.

#### ‚úÖ toJS

–ò—Å–ø–æ–ª—å–∑—É–µ–º toJS –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ observable –∑–Ω–∞—á–µ–Ω–∏–π –≤ —á–∏—Å—Ç—ã–π JS –æ–±—ä–µ–∫—Ç –∏–ª–∏ –º–∞—Å—Å–∏–≤, —á—Ç–æ –¥–∞—ë—Ç –Ω–æ–≤—É—é —Å—Å—ã–ª–∫—É –Ω–∞ –∫–∞–∂–¥—ã–π —Ä–µ–Ω–¥–µ—Ä:

```typescript jsx
import { toJS } from 'mobx'

type User = {
  // ...
}

class Store {
  // ...
}

const store = new Store()

const Component = observer(() => {
  return <VendorTable
    // –î–æ–±–∞–≤–ª–µ–Ω toJS üëá
    data={toJS(store.users)}
    columns={[
      // ...
    ]}
  />
})
```

#### ‚úÖ –ü–∏—à–µ–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Table, –æ–±—ë—Ä–Ω—É—Ç—ã–π –≤ observer

```typescript jsx
import { toJS } from 'mobx'

type User = {
  // ...
}

class Store {
  // ...
}

const store = new Store()

const Component = observer(() => {
  return <MyTable
    data={store.users}
    columns={[
      // ...
    ]}
  />
})
```

–ù–∞–ø–∏—Å–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Ç–∞–±–ª–∏—Ü—ã –º–æ–∂–µ—Ç –æ–∫—É–ø–∏—Ç—å —Å–µ–±—è –Ω–∞ –¥–ª–∏–Ω–Ω–æ–π –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏ –≤ —Å–ª–æ–∂–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ. –¢–∞–±–ª–∏—Ü—ã —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ
–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —á–∞—Å—Ç–æ —Ç—Ä–µ–±—É—é—â–∏–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –í–æ—Ç –ª–∏—à—å –º–∞–ª—ã–π —Å–ø–∏—Å–æ–∫ —Ç–æ–≥–æ, —á—Ç–æ –≤–∞—Å –º–æ–≥—É—Ç –ø–æ–ø—Ä–æ—Å–∏—Ç—å —Å–¥–µ–ª–∞—Ç—å:
–º–∞—Å—Å–æ–≤–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫, –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ —Ç–∞–±–ª–∏—Ü—ã, –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å/—Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å —Å—Ç—Ä–æ–∫–∏ –ø–æ –≤—ã—Å–æ—Ç–µ,
—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å URL, –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Å–∫—Ä–æ–ª–ª–∏–Ω–≥ –∏–ª–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–∞—Å—Ç–æ–º–Ω—ã–π –¥–∏–∑–∞–π–Ω, —á—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞—Ç—Ä—É–¥–Ω–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–∏
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ UI-–∫–∏—Ç–æ–≤ –≤—Ä–æ–¥–µ Ant Design. –í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Table —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
observer –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.

### 4. Render-props

–≠—Ç–∞ –ø—Ä–æ–±–ª–µ–º–∞ –º–æ–∂–µ—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏, —É –∫–æ—Ç–æ—Ä—ã—Ö props —è–≤–ª—è—é—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è–º–∏. –í –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ React —ç—Ç–æ–º—É –¥–∞–Ω–æ
–Ω–∞–∑–≤–∞–Ω–∏–µ [render prop](https://reactjs.org/docs/render-props.html). –ü–æ—Å–ª–µ –ø–æ—è–≤–ª–µ–Ω–∏—è —Ö—É–∫–æ–≤ —Ç–∞–∫–∏–µ —Å–∏—Ç—É–∞—Ü–∏–∏ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è
–≤—Å—ë —Ä–µ–∂–µ, –Ω–æ –¥–∞–≤–∞–π—Ç–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –æ–¥–Ω—É –∏–∑ –Ω–∏—Ö –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ [React Final Form](https://final-form.org/react):

‚ùå –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `store.languages`:
```typescript jsx
import { Form } from 'react-final-form'

const MyForm = observer(() => {
  return (
    <Form
      render={({ handleSubmit }) => (
        <form onSubmit={handleSubmit}>
          <Dropdown
            label={'language'}
            options={store.languages}
            value={store.language}
            onChange={store.changeLanguage}
          />
        </form>)}
    />
  )
})
```

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ `MyForm` —ç—Ç–æ observer, –Ω–æ —Ñ—É–Ω–∫—Ü–∏—è, –ø–µ—Ä–µ–¥–∞—é—â–∞—è—Å—è –∫–∞–∫ –ø—Ä–æ–ø `render`, –∏–º –Ω–µ —è–≤–ª—è–µ—Ç—Å—è, –∞ –∑–Ω–∞—á–∏—Ç
–æ–Ω–∞ –Ω–µ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É –Ω–∞ observable –∑–Ω–∞—á–µ–Ω–∏—è. –ö–∞–∫ —Å–ª–µ–¥—Å—Ç–≤–∏–µ, –¥–∞–∂–µ –µ—Å–ª–∏ –ø–æ–ª–µ `store.languages` –æ–±–Ω–æ–≤–∏—Ç—Å—è –ø–æ—Å–ª–µ
–∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Å —Å–µ—Ä–≤–µ—Ä–∞, —Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—Å—ë —Ä–∞–≤–Ω–æ –Ω–µ –ø–µ—Ä–µ—Ä–∏—Å—É–µ—Ç—Å—è. –ï—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Ä–µ—à–µ–Ω–∏–π.

#### ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º Observer –∏–∑ `mobx-react-lite`/`mobx-react`

```typescript jsx
import { Form } from 'react-final-form'
import { Observer } from 'mobx-react-lite'

const MyForm = observer(() => {
  return (
    <Form
      render={({ handleSubmit }) => (
        <Observer>
          {() => <form onSubmit={handleSubmit}>
            <Dropdown
              label={'language'}
              options={store.languages}
              value={store.language}
              onChange={store.changeLanguage}
            />
          </form>}
        </Observer>)}
    />
  )
})
```

–≠—Ç–æ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –∫–∞–∫ –≤ mobx-react-lite, —Ç–∞–∫ –∏ –≤ mobx-react (—Ç–∞–∫ –∫–∞–∫ –≤—Ç–æ—Ä–æ–π [—ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç](https://github.com/mobxjs/mobx/blob/b82c7f3229439a6a1f0d35ebb559dc6b0fd0bec7/packages/mobx-react/src/index.ts#L7+L17) –ø–µ—Ä–≤—ã–π).

#### ‚úÖ –û—Ç–∫–∞–∑—ã–≤–∞–µ–º—Å—è –æ—Ç render props –≤ –ø–æ–ª—å–∑—É —Ö—É–∫–æ–≤:

```typescript jsx
import { Observer } from 'mobx-react-lite'
import { useForm } from 'react-final-form-hooks'

const MyForm = observer(() => {
  const { handleSubmit } = useForm();
  
  return (
    <form onSubmit={handleSubmit}>
      <Dropdown
        label={'language'}
        options={store.languages}
        value={store.language}
        onChange={store.changeLanguage}
      />
    </form>
  )
})
```

–ú—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø–æ—Ç–µ—Ä–∏ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏. –ï—Å–ª–∏ –æ—Å–≤–æ–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ, —Ç–æ –ø—Ä–æ–±–ª–µ–º, –≤ –æ–±—â–µ–º —Å–ª—É—á–∞–µ, –≤–æ–∑–Ω–∏–∫–∞—Ç—å –Ω–µ –¥–æ–ª–∂–Ω–æ, —Ç–∞–∫ –∫–∞–∫ –≤—Å–µ –≤—ã—à–µ–ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã (–∫—Ä–æ–º–µ this) –æ–± –æ–¥–Ω–æ–º –∏ —Ç–æ–º –∂–µ - –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏.


### 5. –£—Å—Ç–∞—Ä–µ–≤—à–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–∞–Ω–¥–ª–µ—Ä–∞

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É—Å—Ç–∞—Ä–µ–≤—à–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Babel / TypeScript, —Ç–æ `makeAutoObservable` –º–æ–∂–µ—Ç –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—è:

```typescript
class Store {
  count?: number

  constructor() {
    makeAutoObservable(this)
  }
}
```

–í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–ª—è `count` –Ω–µ –±—É–¥–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–∞–Ω–¥–ª–µ—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```javascript
if (!new class { x }().hasOwnProperty('x')) throw new Error('Transpiler is not configured correctly');
```

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —Å–∫—Ä–∏–ø—Ç –Ω—É–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å –≤ –∫–æ–¥, –∞ –Ω–µ –≤ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞. –ê –≤–æ—Ç –µ—Å–ª–∏ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∫–æ–¥–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞–∑—É–µ—Ä–∞ –≤–∏–¥–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, —Ç–æ –µ—Å—Ç—å —Ä–∞–∑–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã:

##### ‚úÖ TypeScript

–í `tsconfig.json` –¥–æ–±–∞–≤—å—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `useDefineForClassFields: true`:

```json
{
  "compilerOptions": {
    "useDefineForClassFields": true
  }
}
```

–õ–∏–±–æ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ `target` –≤ —Å–µ–∫—Ü–∏–∏ `compilerOptions`. –î–æ–ª–∂–Ω–æ –±—ã—Ç—å —É–∫–∞–∑–∞–Ω–æ _ESNext_ –∏–ª–∏ _ES2022_ (–∏ –≤—ã—à–µ)

##### ‚úÖ Babel

```{
    // Babel < 7.13.0
    "plugins": [["@babel/plugin-proposal-class-properties", { "loose": false }]],

    // Babel >= 7.13.0 (https://babeljs.io/docs/en/assumptions)
    "plugins": [["@babel/plugin-proposal-class-properties"]],
    "assumptions": {
        "setPublicClassFields": false
    }
}
```

–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è Babel –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å 7.12.

#### ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–Ω–∞—á–µ–Ω–∏—è

–ï—Å–ª–∏ –Ω–∏–∫–∞–∫–∏–µ –¥—Ä—É–≥–∏–µ —Å–ø–æ—Å–æ–±—ã –Ω–µ –ø–æ–º–æ–≥–ª–∏, —Ç–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ–ª–µ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ:

```typescript
class Store {
  count?: number = undefined // –ò–ª–∏ count = 0

  constructor() {
    makeAutoObservable(this)
  }
}
```

#### –ë–µ–∑–æ–ø–∞—Å–Ω–æ –ª–∏ –º–µ–Ω—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–Ω–¥–ª–µ—Ä–∞?

–î–∞. –ö–ª–∞—Å—Å–æ–≤—ã–µ –ø–æ–ª—è –ø–æ—è–≤–∏–ª–∏—Å—å –≤ TS –∏ Babel –¥–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏–∏ –≤ ES. `useDefineForClassFields: true` –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç [–Ω–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å](https://www.typescriptlang.org/tsconfig#useDefineForClassFields) —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã TS. –° –æ–ø—Ü–∏–µ–π `useDefineForClassFields` –¥–ª—è –≤—ã—à–µ–æ–ø–∏—Å–∞–Ω–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ TypeScript —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π JS:

```javascript
class Store {
  count
}
```

–ë–µ–∑ —ç—Ç–æ–π –æ–ø—Ü–∏–∏ –ø–æ–ª–µ –±—É–¥–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å:

```javascript
class Store {
}
```

`makeAutoObservable` –Ω–µ –º–æ–∂–µ—Ç –ø–æ–º–µ—Ç–∏—Ç—å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –ø–æ–ª–µ observable, –ø–æ—ç—Ç–æ–º—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –±—É–¥–µ—Ç —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è.